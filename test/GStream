ChatGPT Plus

Perfecto, en Jetson Nano la cámara CSI se abre en Python usando OpenCV + GStreamer con la fuente nvarguscamerasrc (igual que nvgstcapture-1.0).

Pasos rápidos

Cierra todo lo que use la cámara y reinicia Argus

sudo systemctl restart nvargus-daemon


Asegura OpenCV con soporte GStreamer (usa el de JetPack, no el de pip)

sudo apt update
sudo apt install -y python3-opencv
python3 - << 'PY'
import cv2; print("GStreamer soportado:", "GStreamer" in cv2.getBuildInformation())
PY


Si dice False, estás usando un cv2 de pip: cambia al de sistema.

Prueba GStreamer en shell (confirma que la CSI funciona fuera de Python)

gst-launch-1.0 nvarguscamerasrc ! \
'video/x-raw(memory:NVMM),width=1280,height=720,framerate=30/1' ! \
nvvidconv flip-method=0 ! 'video/x-raw,format=BGRx' ! videoconvert ! \
'video/x-raw,format=BGR' ! fakesink


Abre la cámara desde Python (OpenCV)

import cv2

# Ajusta width/height/framerate/flip-method a tu necesidad
gst = (
    "nvarguscamerasrc ! "
    "video/x-raw(memory:NVMM), width=1280, height=720, framerate=30/1, format=NV12 ! "
    "nvvidconv flip-method=0 ! "
    "video/x-raw, format=BGRx ! "
    "videoconvert ! "
    "video/x-raw, format=BGR ! "
    "appsink drop=true max-buffers=1 sync=false"
)

cap = cv2.VideoCapture(gst, cv2.CAP_GSTREAMER)
if not cap.isOpened():
    raise RuntimeError("No pude abrir la CSI con GStreamer (cv2).")

while True:
    ok, frame = cap.read()
    if not ok:
        print("Frame perdido"); break
    cv2.imshow("CSI - Jetson Nano", frame)
    if cv2.waitKey(1) & 0xFF == 27:  # ESC para salir
        break

cap.release()
cv2.destroyAllWindows()

Notas útiles

flip-method: 0 sin giro; 2 espejo H; 6 rota 180°.

Resoluciones típicas IMX219: 1280×720@30 (estable), 1920×1080@30, 3280×2464@21.

Lag: deja appsink drop=true max-buffers=1 sync=false.

“cap.isOpened() = False”: suele ser por OpenCV sin GStreamer o porque Argus está ocupado → reinicia nvargus-daemon y asegúrate de no tener nvgstcapture abierto.

Si más adelante quieres control fino (exposición/ganancia, fps exactos del modo del sensor), te paso un pipeline ajustado a tu módulo (IMX219/IMX477) y al modo nativo.
